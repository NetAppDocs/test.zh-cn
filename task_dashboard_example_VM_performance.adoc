---
sidebar: sidebar 
permalink: task_dashboard_example_VM_performance.html 
summary: 突出显示虚拟机性能的信息板示例。 
keywords: dashboard, widget, custom, example, virtual machine, vm, performance 
---
= 信息板示例：虚拟机性能
:allow-uri-read: 


[role="lead"]
如今， IT 运营面临着许多挑战。管理员需要以更少的资源完成更多任务，必须全面了解动态数据中心。在此示例中，我们将向您展示如何使用小工具创建信息板，以便您深入了解环境中虚拟机（ VM ）的性能。通过遵循此示例并创建小工具以满足您自己的特定需求，您可以执行以下操作：将后端存储性能与前端虚拟机性能进行对比，或者查看虚拟机延迟与 I/O 需求。

在此，我们将创建一个虚拟机性能信息板，其中包含以下内容：

* 列出虚拟机名称和性能数据的表
* 虚拟机延迟与存储延迟的比较图表
* 一个图表，显示虚拟机的读取，写入和总 IOPS
* 显示虚拟机最大吞吐量的图表


这只是一个基本示例。您可以自定义信息板以突出显示和比较所选的任何性能数据，以便根据自己的最佳运营实践确定目标。

.步骤
. 以具有管理权限的用户身份登录到 Insight 。
. 从 * 信息板 * 菜单中，选择 * （ + 新信息板） * 。
+
此时将打开 * 新建信息板 * 页面。

. 在页面顶部，输入信息板的唯一名称，例如 "VM Performance by Application" 。
. 单击 * 保存 * 以使用新名称保存信息板。
. 我们开始添加小工具。如有必要，请单击 * 编辑 * 图标以启用编辑模式。
. 单击 * 添加小工具 * 图标并选择 * 表 * 向信息板添加新的表小工具。
+
此时将打开编辑小工具对话框。显示的默认数据适用于您环境中的所有存储。



image:VMDashboard-TableWidget1.png[""]

. 我们可以自定义此小工具。在顶部的 Name 字段中，删除 Widget 1 并输入 Virtual Machine Performance table 。
. 单击资产类型下拉列表并将 _Storage_ 更改为 _Virtual Machine_ 。
+
此时，表数据将发生变化，以显示您环境中的所有虚拟机。

. 让我们向表中添加几列。单击右侧的齿轮图标，然后选择 _Hypervisor name_ ， _IOPS - Total_ 和 _Latency - Total_ 。您也可以尝试在搜索中键入名称，以快速显示所需字段。
+
此时，这些列将显示在表中。您可以按其中任何一列对表进行排序。请注意，这些列将按添加到小工具的顺序显示。

. 在本练习中，我们将排除当前未使用的虚拟机，因此，我们将筛选出总 IOPS 小于 10 的任何虚拟机。单击 * 筛选依据 * 旁边的 * 。 ++* 按钮，然后选择 _IOPS - Total_ 。单击 * 任何 * 并在 * 自 * 字段中输入 "10" 。将 * 至 * 字段留空。单击输出筛选字段或按 Enter 设置筛选器。
+
现在，此表仅显示总 IOPS 为 10 或以上的虚拟机。

. 我们可以通过对结果进行分组来进一步折叠此表。单击 * 分组依据 * 旁边的 * 。 * 按钮，然后选择要分组的字段，例如 _Application_or _Hypervisor name_ 。系统将自动应用分组。
+
此时，表行将根据您的设置进行分组。您可以根据需要展开和折叠这些组。分组行显示每个列的汇总数据。某些列允许您为该列选择汇总方法。



image:VMDashboard-TableWidgetGroup.png[""]

. 在自定义表小工具以使您满意后，单击 * ｛ Save ｝ * 按钮。
+
此时，表小工具将保存到信息板中。



您可以通过拖动右下角来调整信息板上的小工具大小。使小工具更宽，以清晰地显示所有列。单击 * 保存 * 以保存当前信息板。

接下来，我们将添加一些图表以显示虚拟机性能。我们来创建一个折线图，将虚拟机延迟与 VMDK 延迟进行比较。

. 如有必要，请单击信息板上的 * 编辑 * 图标以启用编辑模式。
. 单击 * 添加小工具 * 图标并选择 _Line Chart_ 向信息板添加新的折线图小工具。
. 此时将打开 * 编辑小工具 * 对话框。将此小工具命名为 "VM/VMDK 最大延迟 "
. 选择 * 虚拟机 * ，然后选择 _Latency - Max_ 。设置所需的任何筛选器，或者将 * 筛选器方式 * 留空。对于 * 汇总 * ，选择 _Sum_ by _all_ 。将此数据显示为 _Line Chart_ ，并保留 _Y-Axis_ 作为 _Primary 。
. 单击 * （ + 查询） * 按钮以添加另一个数据线。对于此行，请选择 _VMDK_ 和 _Latency - Max_ 。设置所需的任何筛选器，或者将 * 筛选器方式 * 留空。对于 * 汇总 * ，选择 _Sum_ by _all_ 。将此数据显示为 _Line Chart_ ，并保留 _Y-Axis_ 作为 _Primary 。
. 单击 * 。保存 * 将此小工具添加到信息板。


image:VMDashboard-LineChartVMLatency.png[""]

接下来，我们将添加一个图表，在一个图表中显示虚拟机读取，写入和总 IOPS 。

. 单击 * 添加小工具 * 图标并选择 _Area Chart_ 向信息板添加新的分区图小工具。
. 此时将打开编辑小工具对话框。将此小工具命名为 "VM IOPS"
. 选择 * 虚拟机 * ，然后选择 _IOPS - 总计 _ 。设置所需的任何筛选器，或者将 * 筛选器方式 * 留空。对于 * 汇总 * ，选择 _Sum_ by _all_ 。将此数据显示为 _Area Chart_ ，并保留 _Y-Axis_ 作为 _Primary 。
. 单击 * （ + 查询） * 按钮以添加另一个数据线。对于此行，请选择 * 虚拟机 * 并选择 _IOPS - read_ 。
. 单击 * （ + 查询） * 按钮以添加第三个数据线。对于此行，选择 * 虚拟机 * ，然后选择 _IOPS - 写入 _ 。
. 单击 * 显示图例 * 可在信息板上显示此小工具的图例。


image:VMDashboard-AreaChartVMIOPS.png[""]

. 单击 * 。保存 * 将此小工具添加到信息板。


接下来，我们将添加一个图表，显示与 VM 关联的每个应用程序的 VM 吞吐量。我们将对此使用汇总功能。

. 单击 * 添加小工具 * 图标并选择 _Line Chart_ 向信息板添加新的折线图小工具。
. 此时将打开编辑小工具对话框。将此小工具命名为 "VM Throughput by Application"
. 选择 Virtual Machine ，然后选择 Throughput - Total 。设置所需的任何筛选器，或者将 Filter by 留空。对于 Roll up ，选择 "Max" ，然后按 "Application" 或 "Name" 进行选择。显示排名前 10 位的应用程序。将此数据显示为折线图，并保留 "Y-Axis" 为 Primary 。
. 单击 * 。保存 * 将此小工具添加到信息板。


您可以在信息板上移动小工具，方法是在小工具顶部的任意位置按住鼠标按钮并将其拖动到新位置。

您可以通过拖动右下角来调整小工具的大小。

在进行更改后，请务必 * 。保存 * 信息板。

最后一个虚拟机性能信息板将如下所示：

image:VMDashExample1.png[""]
